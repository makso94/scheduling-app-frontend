<mat-card class="centerCard">
    <mat-card-header>
        <mat-card-title>Create Appointment</mat-card-title>
    </mat-card-header>

    <form [formGroup]="form">

        <mat-card-content>

            <mat-horizontal-stepper linear #stepper>
                <mat-step [editable]="true">
                    <ng-template matStepLabel>Select services</ng-template>

                    <mat-form-field id="serviceSelector" appearance="outline">
                        <mat-label>Select Services</mat-label>
                        <mat-select formControlName="service_ids" multiple required>
                            <mat-option *ngFor="let service of serviceList" [value]="service.id">{{service.name}}
                                {{service.description? service.description: ''}} </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <div>
                        <button type="button" mat-stroked-button matStepperNext>Next</button>
                    </div>
                </mat-step>
                <mat-step [editable]="true">
                    <ng-template matStepLabel>Pick date from Calendar</ng-template>

                    <mat-grid-list cols="3" rowHeight="4:1">
                        <mat-grid-tile>
                            <ng-container *ngIf="view === CalendarView.Month">
                                <button type="button" mat-raised-button color="primary" mwlCalendarPreviousView
                                    [view]="view" [(viewDate)]="viewDate" (viewDateChange)="closeOpenMonthViewDay()">
                                    Previous
                                </button>
                                <button type="button" mat-stroked-button color="primary" mwlCalendarToday
                                    [(viewDate)]="viewDate">
                                    Current
                                </button>
                                <button type="button" mat-raised-button color="primary" mwlCalendarNextView
                                    [view]="view" [(viewDate)]="viewDate" (viewDateChange)="closeOpenMonthViewDay()">
                                    Next
                                </button>
                            </ng-container>
                            <mat-button-toggle-group>
                                <mat-button-toggle color="primary" [checked]="view === CalendarView.Month"
                                    (click)="setView(CalendarView.Month)">
                                    Back to Month view
                                </mat-button-toggle>

                            </mat-button-toggle-group>
                        </mat-grid-tile>
                        <mat-grid-tile>
                            <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>

                        </mat-grid-tile>
                        <mat-grid-tile>

                        </mat-grid-tile>
                    </mat-grid-list>


                    <div [ngSwitch]="view">
                        <mwl-calendar-month-view *ngSwitchCase="CalendarView.Month" [viewDate]="viewDate"
                            [events]="events" [refresh]="refresh" [weekStartsOn]="1" (dayClicked)="changeDay($event)"
                            (beforeViewRender)="beforeMonthViewRender($event)">
                        </mwl-calendar-month-view>

                        <mwl-calendar-day-view *ngSwitchCase="CalendarView.Day" [viewDate]="viewDate" [events]="events"
                            [refresh]="refresh" [hourSegments]="4" [dayStartHour]="9" [dayEndHour]="19"
                            (hourSegmentClicked)="slotClicked($event.date) ">
                        </mwl-calendar-day-view>

                    </div>


                    <div>
                        <button type="button" mat-stroked-button matStepperPrevious>Back</button>
                        <button type="button" mat-stroked-button matStepperNext>Next</button>
                    </div>
                </mat-step>
                <mat-step>
                    <ng-template matStepLabel>Done</ng-template>
                    <p>You are now done.</p>
                    <div>
                        <button type="button" mat-stroked-button matStepperPrevious>Back</button>
                        <button type="button" mat-stroked-button (click)="stepper.reset()">Reset</button>
                        <button type="submit" mat-raised-button color="primary" [disabled]="form.invalid"
                            (click)="create()">Create
                            Appointment</button>
                    </div>
                </mat-step>
            </mat-horizontal-stepper>





        </mat-card-content>
        <!-- <mat-card-actions>
            <button type="submit" mat-raised-button color="primary" [disabled]="form.invalid" (click)="create()">Create
                Appointment</button>
        </mat-card-actions> -->
    </form>
</mat-card>